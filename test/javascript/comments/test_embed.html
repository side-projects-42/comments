<html>
  <head>
    <title>Comments/Embed Test</title>
    <link rel="stylesheet" href="../qunit.css" type="text/css"/>
    <script src="../qunit.js" type="text/javascript"></script>
    <script src="http://localhost:3000/javascripts/jquery-1.4.2.min.js" type="text/javascript"></script>
    <script src="http://localhost:3000/comments/embed.js" type="text/javascript"></script>
    <script type="text/javascript">
      $(function() {
        obj = $('#comments');
        obj.comments();

        test("form creation", function() {
          form = obj.find('form');
          equals( form.length, 1 );
          equals( form.attr('action'), "http://localhost:3000/comments.xml" );
          equals( form.attr('method'), "post" );
        });

        test("form elements", function() {
          form = obj.find('form');
          token = form.find('input[name=authenticity_token]');
          equals( token.length, 1 );
          equals( token.attr('type'), 'hidden' );
          ok( token.val().match(/^.{44}$/) );
        });
      });
    </script>
  </head>
  <body>
    <h1 id="qunit-header">Comments/Embed Test</h1>
    <h2 id="qunit-banner"></h2>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>

    <div id="comments"></div>
  </body>
</html>
